(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{118:function(e,t,n){},230:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),s=n(23),c=n.n(s),r=(n(118),n(18)),i=n(4),l=i.b.initializeApp({apiKey:"AIzaSyA0ttsK6Y41LC6YaFYbU4iIa11LzaqT19k",authDomain:"fir-9452c.firebaseapp.com",projectId:"fir-9452c",storageBucket:"fir-9452c.appspot.com",messagingSenderId:"476137840221",appId:"1:476137840221:web:b490ec46cb6616a8d777b4"}),d=n(3),u=function(e){var t=e.email,n=e.setEmail,a=e.password,o=e.setPassword,s=e.handleLogin,c=e.handleSignup,r=e.hasAccount,i=e.setHasAccount,l=e.emailError,u=e.passwordError;return Object(d.jsx)("section",{className:"login",children:Object(d.jsxs)("div",{className:"loginContainer",children:[Object(d.jsx)("label",{children:"EMAIL"}),Object(d.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return n(e.target.value)}}),Object(d.jsxs)("p",{className:"erroring",children:[l," "]}),Object(d.jsx)("label",{children:"PASSWORD "}),Object(d.jsx)("input",{type:"password",required:!0,value:a,onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("p",{className:"errorMsg",children:u}),Object(d.jsx)("div",{className:"btnContainer",children:r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:s,children:"Sign in "}),Object(d.jsxs)("p",{children:["Don't have an account? ",Object(d.jsx)("span",{onClick:function(){return i(!r)},children:"Sign up"})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:c,children:"Sign Up"}),Object(d.jsxs)("p",{children:["Have an account? ",Object(d.jsx)("span",{onClick:function(){return i(!r)},children:"Sign in"})," "]})]})})]})})},p=(n(59),n(108)),b=n(12),h=n.n(b),j=n(20),f=n(25),x=n(26),O=n(29),g=n(28),m=n(13),v=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid white",borderRadius:"0px",backgroundColor:"#fff;",color:"Black","&:hover":{backgroundColor:"#fff;"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"}}},N=n(254),w=n(253),S=n(255),k=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},y=n(252),C=n(256),I=n(106),L=n.n(I);var _=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).selectNote=function(t,n){return e.props.selectNote(t,n)},e.deleteNote=function(t){window.confirm("Are you sure you want to delete: ".concat(t.title))&&e.props.deleteNote(t)},e}return Object(x.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n._index,o=n._note,s=n.classes,c=n.selectedNoteIndex;return Object(d.jsx)("div",{children:Object(d.jsxs)(y.a,{className:s.listItem,selected:c===a,alignItems:"flex-start",children:[Object(d.jsx)("div",{className:s.textSection,onClick:function(){return t.selectNote(o,a)},children:Object(d.jsx)(C.a,{primary:o.title,secondary:(e=o.body.substring(0,30),e.replace(/<[^>]*>?/gm,"")+"...")})}),Object(d.jsx)(L.a,{onClick:function(){return t.deleteNote(o)},className:s.deleteIcon})]})},a)}}]),n}(o.a.Component),A=Object(m.a)(k)(_),E=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).newNote=function(){e.props.newNote()},e.selectNote=function(t,n){e.props.selectNote(t,n)},e.deleteNote=function(t){e.props.deleteNote(t)},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,a=t.classes,o=t.selectedNoteIndex;return n?Object(d.jsxs)("div",{className:a.sidebarContainer,children:[Object(d.jsx)(w.a,{onClick:this.newNote,className:a.newNoteBtn,children:"New Note"}),Object(d.jsx)(N.a,{children:n.map((function(t,n){return Object(d.jsxs)("div",{children:[Object(d.jsx)(A,{_note:t,_index:n,selectedNoteIndex:o,selectNote:e.selectNote,deleteNote:e.deleteNote}),Object(d.jsx)(S.a,{})]},n)}))})]}):Object(d.jsx)("div",{children:"Loading"})}}]),n}(o.a.Component),F=Object(m.a)(v)(E),T=n(107),U=n.n(T),B=n(68),z=n.n(B),D=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"5px 5px 2px white"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#fff",color:"black",paddingLeft:"50px"},titleLable:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#fff",color:"black",paddingLeft:"50px"},editIcon1:{position:"absolute",left:"310px",top:"150px",color:"black",width:"10",height:"10"},editIcon2:{position:"absolute",left:"310px",top:"95px",color:"black",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box",color:"#fff"}}},P=(n(93),n(94),i.b.storage()),M=i.b.firestore(),W=function(e){var t=Object(a.useState)(0),n=Object(r.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(null),i=Object(r.a)(c,2),l=i[0],d=i[1],u=Object(a.useState)(null),p=Object(r.a)(u,2),b=p[0],f=p[1];return Object(a.useEffect)((function(){var t=P.ref(e.name),n=M.collection("notes");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){d(e)}),Object(j.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,n.add({url:a}),f(a);case 5:case"end":return e.stop()}}),e)}))))}),[e]),{progress:o,url:b,error:l}},R=(i.b.storage(),function(e){var t=e.file,n=(e.setFile,W(t)),a=n.url,o=n.progress;return console.log(o,a),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"this.url"})})}),Y=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(null),c=Object(r.a)(s,2),i=c[0],l=c[1],u=["image/png","image/jpeg","image/jpg","video/mp4","audio/mp3"];return Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(o(t),l("")):(o(null),l("Please Enter valid format file"))}}),Object(d.jsxs)("div",{className:"output",children:[i&&Object(d.jsx)("div",{className:"error",children:i}),n&&Object(d.jsx)("div",{children:n.name}),n&&Object(d.jsx)(R,{file:n,setFile:o})]})]})},q=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.setState({body:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id,lable:e.props.selectedNote.lable,url:e.props.selectedNote.url})},e.componentDidUpdate=function(){e.props.selectedNote.id!==e.state.id&&e.setState({body:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id,lable:e.props.selectedNote.lable,url:e.props.selectedNote.url})},e.updateBody=function(){var t=Object(j.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({body:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTitle=function(){var t=Object(j.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({title:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateLable=function(){var t=Object(j.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({lable:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.update=function(e,t,n){var a,o;return function(){function s(){a=null,n||(o=e.apply(c,r))}var c=this,r=arguments;return clearTimeout(a),a=setTimeout(s,t),n&&!a&&(o=e.apply(c,r)),o}}((function(){e.props.noteUpdate(e.state.id,{title:e.state.title,body:e.state.body,lable:e.state.lable,date_of_creation:e.state.date_of_creation,url:e.state.url})}),1500),e.state={body:"",title:"",notes_id:"",lable:"",url:""},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(d.jsxs)("div",{className:t.editorContainer,children:[Object(d.jsx)(z.a,{className:t.editIcon1}),Object(d.jsx)("input",{className:t.titleInput,placeholder:"Note title..",value:this.state.title?this.state.title:"",onChange:function(t){return e.updateTitle(t.target.value)}}),Object(d.jsx)(S.a,{}),Object(d.jsx)(z.a,{className:t.editIcon2}),Object(d.jsx)("input",{className:t.titleLable,placeholder:"Note lable..",value:this.state.lable?this.state.lable:"",onChange:function(t){return e.updateLable(t.target.value)}}),Object(d.jsx)(U.a,{value:this.state.body,onChange:this.updateBody}),Object(d.jsx)(Y,{})]})}}]),n}(o.a.Component),H=Object(m.a)(D)(q),J=(n(97),function(e){var t=e.handleChange;return Object(d.jsx)("div",{class:"wrap",children:Object(d.jsx)("div",{class:"search",children:Object(d.jsx)("input",{type:"search",class:"searchTerm",placeholder:e.placeholder,onChange:function(e){return t(e.target.value)}})})})}),K=(n(230),function(e){var t=e.handleSort;return Object(d.jsx)("div",{class:"fixed_button",children:Object(d.jsx)("button",{onClick:t,children:"SORT"})})}),V=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).componentDidMount=function(){var t=i.b.firestore();l.auth().onAuthStateChanged((function(n){n&&t.collection("notes").where("userId","==",n.uid).onSnapshot((function(t){if(t.docs){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({notes:n})}else e.setState({notes:[]})}))}))},e.handleChange=function(){var t=Object(j.a)(h.a.mark((function t(n){var a,o,s,c,r,d,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.b.firestore(),!(o=l.auth().currentUser)){t.next=11;break}return s=a.collection("notes").where("userId","==",o.uid),t.next=6,s.where("lable","==",n).get();case 6:return c=t.sent,t.next=9,s.where("title","==",n).get();case 9:(r=t.sent)?(d=r.docs.map((function(e){var t=e.data();return t.id=e.id,t})),e.setState({notes:d})):c?(u=c.docs.map((function(e){var t=e.data();return t.id=e.id,t})),e.setState({notes:u}),console.log(c)):e.setState({notes:[]});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSort=Object(j.a)(h.a.mark((function t(){var n,a,o,s,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.b.firestore(),!(a=l.auth().currentUser)){t.next=8;break}return o=n.collection("notes").where("userId","==",a.uid),t.next=6,o.orderBy("timestamp").get();case 6:(s=t.sent)?(c=s.docs.map((function(e){var t=e.data();return t.id=e.id,t})),e.setState({notes:c})):e.setState({notes:[]});case 8:case"end":return t.stop()}}),t)}))),e.selectNote=function(t,n){e.setState({selectedNoteIndex:n,selectedNote:t})},e.noteUpdate=function(e,t){i.b.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,lable:t.lable,timestamp:i.b.firestore.FieldValue.serverTimestamp()})},e.newNote=Object(j.a)(h.a.mark((function t(){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={title:"",body:"",time_of_creation:"",lable:""},a=i.b.firestore(),l.auth().onAuthStateChanged((function(t){t&&a.collection("notes").add({title:n.title,body:n.body,userId:t.uid,time_of_creation:n.time_of_creation,lable:n.lable,timestamp:i.b.firestore.FieldValue.serverTimestamp()}).then((function(t){var a=t.id;e.setState({notes:[].concat(Object(p.a)(e.state.notes),[n])});var o=e.state.notes.indexOf(e.state.notes.filter((function(e){return e.id===a}))[0]);e.setState({selectedNote:e.state.notes[o],selectedNoteIndex:o})}))}));case 3:case"end":return t.stop()}}),t)}))),e.deleteNote=function(){var t=Object(j.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.notes.indexOf(n),t.next=3,e.setState({notes:e.state.notes.filter((function(e){return e!==n}))});case 3:e.state.selectedNoteIndex===a?e.setState({selectedNoteIndex:null,selectedNote:null}):e.state.notes.length>1?e.selectNote(e.state.notes[e.state.selectedNoteIndex-1],e.state.selectedNoteIndex-1):e.setState({selectedNoteIndex:null,selectedNote:null}),i.b.firestore().collection("notes").doc(n.id).delete();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={selectedNoteIndex:null,selectedNote:null,notes:null,searchField:""},e}return Object(x.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"app-container",children:[Object(d.jsx)(F,{selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,selectNote:this.selectNote,deleteNote:this.deleteNote,newNote:this.newNote}),this.state.selectedNote?Object(d.jsx)(H,{selectedNote:this.state.selectedNote,selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,noteUpdate:this.noteUpdate}):null,Object(d.jsx)(J,{placeholder:"Enter title of Notes..",searchField:this.state.searchField,handleChange:this.handleChange}),Object(d.jsx)(K,{handleSort:this.handleSort})]})}}]),n}(o.a.Component),G=function(e){var t=e.handleLogout;return Object(d.jsxs)("div",{className:"hero",children:[Object(d.jsxs)("nav",{children:[Object(d.jsx)("h2",{children:"WELCOME!!!"}),Object(d.jsx)("button",{onClick:t,children:"LOG OUT"})]}),Object(d.jsx)(V,{})]})};n(235);n(233);var X=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(""),c=Object(r.a)(s,2),i=c[0],p=c[1],b=Object(a.useState)(""),h=Object(r.a)(b,2),j=h[0],f=h[1],x=Object(a.useState)(""),O=Object(r.a)(x,2),g=O[0],m=O[1],v=Object(a.useState)(""),N=Object(r.a)(v,2),w=N[0],S=N[1],k=Object(a.useState)(!1),y=Object(r.a)(k,2),C=y[0],I=y[1],L=function(){m(""),S("")},_=function(){l.auth().onAuthStateChanged((function(e){e?(p(""),f(""),o(e)):o("")}))};return Object(a.useEffect)((function(){_()}),[]),Object(d.jsx)("div",{className:"App",children:n?Object(d.jsx)(G,{handleLogout:function(){l.auth().signOut()}}):Object(d.jsx)(u,{email:i,setEmail:p,password:j,setPassword:f,handleLogin:function(){L(),l.auth().signInWithEmailAndPassword(i,j).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":m(e.message);break;case"auth/wrong-password":S(e.message)}}))},handleSignup:function(){L(),l.auth().createUserWithEmailAndPassword(i,j).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":m(e.message);break;case"auth/weak-password":S(e.message)}}))},hasAccount:C,setHasAccount:I,emailError:g,passwordError:w})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,257)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),s(e),c(e)}))};c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),Q()},59:function(e,t,n){},97:function(e,t,n){}},[[234,1,2]]]);
//# sourceMappingURL=main.514c58e1.chunk.js.map